<html>    <head>        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />        <link rel="stylesheet" href="../innorix.css">        <script src="../innorix.js"></script>        <script>            var control = new Object();            window.onload = function() {                // 파일전송 컨트롤 생성                control = innorix.create({                    el: '#fileControl', // 컨트롤 출력 HTML 객체 ID                    transferMode: 'both', // 업로드, 다운로드 혼합사용                    installUrl: '../install/install.html', // Agent 설치 페이지                    uploadUrl: './upload.jsp', // 업로드 URL                                        folderIntact: true, 	// 폴더 첨부                    showFolderItems: true, 	// 폴더 구조의 리스트 출력                     showFolderItemsTree: true // 폴더 트리구조의 리스트 출력                });                                /*                	folderIntact (※ Agent 모드 전용 옵션)                	- 폴더첨부유무                	                	showFolderItems (※ Agent 모드 전용 옵션)                	- 폴더구조의리스트출력여부                	                	showFolderItemsTree (※ Agent 모드 전용 옵션)                	- 폴더트리 구조 리스트 출력 여부                */                                // 업로드 완료 이벤트                control.on('uploadComplete', function (p) {                    alert("업로드가 완료 되었습니다.\n다운로드 가능하게 재구성 합니다.");                    var urlBase = location.href.substring(0, location.href.lastIndexOf("/") + 1);                    var fileArray = new Array();                    var f = p.files;                    for (var i = 0; i < f.length; i++ ) {                    	var fileObj = new Object();                        fileObj.printFileName = f[i].clientFileName;                        fileObj.fileSize = f[i].fileSize;                        console.log('fileObj.rootName : '+f[i].rootName);                      	//폴더 정보인 rootName과 "/" 추가                        fileObj.rootName = f[i].rootName;                        fileObj.downloadUrl = urlBase + "upDownFolder.jsp?fileName=" +f[i].rootName+"/"+f[i].serverFileName;                                                fileArray.push(fileObj);                    }                    console.log(fileArray);                    control.removeAllFiles(); // 리스트 컨트롤에서 파일을 삭제                    control.presetDownloadFiles(fileArray); // 다운로드 목록을 구성                });            };        </script>    </head>    <body>        <a href="../gnIndex.html">&larr; 예제 목록</a><br /><br />        <div id="fileControl"></div><br/>        <input type="button" value="파일추가" onclick="control.openFileDialog();"/>        <input type="button" value="업로드" onclick="control.upload();"/>         <input type="button" value="폴더추가" onclick="control.openFolderDialog();"/> |        <input type="button" value="선택파일 다운로드" onclick="control.downloadSelectedFiles();"/>        <input type="button" value="전체 다운로드" onclick="control.download();"/>    </body></html>